@import "tailwindcss";

:root {
  --bg-0: #0b1020;
  --bg-1: #111a33;
  --card: #141c33;
  --card-soft: #182244;
  --text: #f6f7ff;
  --muted: #a7b0d6;
  --line: rgba(255, 255, 255, 0.1);
  --accent: #2dd4bf;
  --accent-2: #4f46e5;
  --warm: #f6c453;
  --warm-2: #fb7185;
  --pulse-speed: 6s;
  --drift-speed: 18s;
  --glow-a: rgba(79, 70, 229, 0.35);
  --glow-b: rgba(45, 212, 191, 0.35);
  --glow-warm: rgba(251, 113, 133, 0.25);
}

* {
  box-sizing: border-box;
}

html,
body {
  min-height: 100%;
}

html {
  background: #05070f;
}

body {
  position: relative;
  margin: 0;
  overflow-x: hidden;
  background: transparent;
  color: var(--text);
  font-family: "Avenir Next", "Nunito", "Segoe UI", ui-sans-serif, system-ui, sans-serif;
}

.app-shell {
  position: relative;
  z-index: 0;
  isolation: isolate;
}

.app-shell::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(38% 30% at 50% 30%, rgba(246, 196, 83, 0.14), rgba(246, 196, 83, 0) 75%),
    radial-gradient(30% 24% at 52% 34%, rgba(251, 113, 133, 0.11), rgba(251, 113, 133, 0) 74%);
}

.bg-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -2;
  overflow: hidden;
  will-change: transform;
  transform: translateZ(0);
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.016) 0 1px,
      rgba(255, 255, 255, 0) 1px 3px
    ),
    radial-gradient(
      ellipse at center,
      rgba(6, 8, 16, 0) 34%,
      rgba(5, 7, 15, 0.56) 72%,
      rgba(3, 5, 11, 0.9) 100%
    ),
    linear-gradient(180deg, #05070f 0%, #0b1020 100%);
  animation: grainShimmer 50s ease-in-out infinite alternate;
}

.bg-layer::before,
.bg-layer::after {
  content: "";
  position: absolute;
  inset: -10vmax;
  pointer-events: none;
  z-index: -2;
  will-change: transform, opacity;
  transform: translateZ(0);
}

.bg-layer::before {
  background:
    radial-gradient(40% 36% at 6% 9%, rgba(79, 70, 229, 0.42), rgba(79, 70, 229, 0) 58%),
    radial-gradient(38% 34% at 92% 12%, rgba(45, 212, 191, 0.42), rgba(45, 212, 191, 0) 58%),
    radial-gradient(42% 36% at 88% 38%, rgba(79, 70, 229, 0.34), rgba(79, 70, 229, 0) 59%),
    radial-gradient(44% 38% at 10% 44%, rgba(45, 212, 191, 0.34), rgba(45, 212, 191, 0) 59%),
    radial-gradient(40% 36% at 20% 92%, rgba(251, 113, 133, 0.31), rgba(251, 113, 133, 0) 60%),
    radial-gradient(38% 34% at 94% 84%, rgba(246, 196, 83, 0.26), rgba(246, 196, 83, 0) 60%),
    radial-gradient(36% 32% at 3% 74%, rgba(79, 70, 229, 0.32), rgba(79, 70, 229, 0) 58%),
    radial-gradient(36% 32% at 97% 62%, rgba(45, 212, 191, 0.32), rgba(45, 212, 191, 0) 58%),
    radial-gradient(40% 34% at 74% 96%, rgba(251, 113, 133, 0.24), rgba(251, 113, 133, 0) 60%),
    radial-gradient(36% 32% at 2% 26%, rgba(246, 196, 83, 0.2), rgba(246, 196, 83, 0) 60%),
    conic-gradient(
      from 145deg at 90% 8%,
      rgba(79, 70, 229, 0.08),
      rgba(45, 212, 191, 0.07),
      rgba(246, 196, 83, 0.06),
      rgba(79, 70, 229, 0)
    );
  animation: driftA var(--drift-speed) ease-in-out infinite alternate;
}

.bg-layer::after {
  background:
    radial-gradient(circle at 8% 18%, rgba(246, 196, 83, 0.72) 0 2px, rgba(246, 196, 83, 0) 6px),
    radial-gradient(circle at 16% 84%, rgba(45, 212, 191, 0.68) 0 2.4px, rgba(45, 212, 191, 0) 6px),
    radial-gradient(circle at 24% 42%, rgba(251, 113, 133, 0.66) 0 1.8px, rgba(251, 113, 133, 0) 5px),
    radial-gradient(circle at 34% 12%, rgba(79, 70, 229, 0.7) 0 2.2px, rgba(79, 70, 229, 0) 6px),
    radial-gradient(circle at 46% 88%, rgba(246, 196, 83, 0.65) 0 2.6px, rgba(246, 196, 83, 0) 6px),
    radial-gradient(circle at 58% 16%, rgba(45, 212, 191, 0.7) 0 2px, rgba(45, 212, 191, 0) 5px),
    radial-gradient(circle at 68% 72%, rgba(251, 113, 133, 0.65) 0 2.2px, rgba(251, 113, 133, 0) 5px),
    radial-gradient(circle at 78% 30%, rgba(79, 70, 229, 0.68) 0 2px, rgba(79, 70, 229, 0) 5px),
    radial-gradient(circle at 88% 54%, rgba(246, 196, 83, 0.68) 0 2.4px, rgba(246, 196, 83, 0) 6px),
    radial-gradient(circle at 94% 90%, rgba(45, 212, 191, 0.64) 0 1.9px, rgba(45, 212, 191, 0) 5px);
  mix-blend-mode: screen;
  filter: blur(0.22px);
  opacity: 0.2;
  animation: driftB calc(var(--drift-speed) + 6s) ease-in-out infinite alternate;
}

@supports not (mix-blend-mode: screen) {
  .bg-layer::after {
    mix-blend-mode: normal;
    opacity: 0.18;
  }
}

@keyframes grainShimmer {
  0% {
    background-position:
      0 0,
      center,
      50% 0%;
  }
  100% {
    background-position:
      0 2px,
      center,
      50% 100%;
  }
}

@keyframes driftA {
  0% {
    transform: translate3d(-2.3%, -1.6%, 0) scale(1);
    opacity: 0.96;
  }
  100% {
    transform: translate3d(2.3%, 1.6%, 0) scale(1.03);
    opacity: 1;
  }
}

@keyframes driftB {
  0% {
    transform: translate3d(0.52%, -0.38%, 0) scale(1);
    opacity: 0.12;
  }
  100% {
    transform: translate3d(-0.52%, 0.38%, 0) scale(1.01);
    opacity: 0.17;
  }
}

/* Verification tip: in local dev, temporarily set driftA/driftB to 6s to confirm movement. */

.main-card {
  position: relative;
  isolation: isolate;
  background: rgba(16, 22, 40, 0.7);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.main-card::after {
  content: "";
  position: absolute;
  inset: 0;
  padding: 1px;
  border-radius: inherit;
  background: linear-gradient(
    135deg,
    rgba(246, 196, 83, 0.34),
    rgba(79, 70, 229, 0.24),
    rgba(45, 212, 191, 0.22)
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;
  pointer-events: none;
  z-index: -1;
}

.page-enter {
  animation: pageFadeIn 360ms ease-out both;
}

.glow-card {
  position: relative;
  overflow: hidden;
}

.glow-card::before {
  content: "";
  position: absolute;
  top: -25%;
  bottom: -25%;
  left: -34%;
  width: 34%;
  pointer-events: none;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0),
    rgba(255, 255, 255, 0.24),
    rgba(255, 255, 255, 0)
  );
  opacity: 0.18;
  transform: translateX(0) skewX(-12deg);
  animation: sheenSlide calc(var(--pulse-speed) + 2s) linear infinite;
}

.glow-button {
  position: relative;
  overflow: hidden;
}

.glow-button::after {
  content: "";
  position: absolute;
  inset: 0;
  left: -42%;
  width: 40%;
  pointer-events: none;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0),
    rgba(255, 255, 255, 0.38),
    rgba(255, 255, 255, 0)
  );
  transform: translateX(0) skewX(-14deg);
  animation: buttonShimmer calc(var(--pulse-speed) + 1s) linear infinite;
}

.glow-button:active {
  transform: scale(0.98);
}

.sparkle-pulse {
  animation: sparklePulse var(--pulse-speed) ease-in-out infinite;
}

.pulse-idle {
  position: relative;
  overflow: hidden;
}

.pulse-idle::before {
  content: "";
  position: absolute;
  inset: -30%;
  border-radius: 9999px;
  pointer-events: none;
  z-index: 0;
  background: radial-gradient(circle, rgba(246, 196, 83, 0.32), rgba(246, 196, 83, 0) 65%);
  opacity: 0;
  transform: scale(0.98);
  animation: pulseOverlay var(--pulse-speed) ease-in-out infinite;
}

.detail-reveal {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 300ms ease-out, transform 300ms ease-out;
}

.detail-reveal.is-visible {
  opacity: 1;
  transform: translateY(0);
}

input,
select,
textarea,
button {
  font: inherit;
}

.result-reveal {
  animation: resultReveal 420ms ease-out both;
}

@keyframes resultReveal {
  0% {
    opacity: 0;
    transform: translateY(12px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pageFadeIn {
  0% {
    opacity: 0;
    transform: translateY(6px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes sheenSlide {
  0% {
    transform: translateX(0) skewX(-12deg);
  }
  100% {
    transform: translateX(360%) skewX(-12deg);
  }
}

@keyframes buttonShimmer {
  0% {
    transform: translateX(0) skewX(-14deg);
  }
  100% {
    transform: translateX(380%) skewX(-14deg);
  }
}

@keyframes sparklePulse {
  0%,
  100% {
    opacity: 0.6;
    transform: scale(0.92);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulseOverlay {
  0% {
    opacity: 0;
    transform: scale(0.98);
  }
  50% {
    opacity: 0.22;
    transform: scale(1.03);
  }
  100% {
    opacity: 0;
    transform: scale(0.98);
  }
}

@media (max-width: 640px) {
  .bg-layer {
    animation: none;
  }

  .bg-layer::before {
    inset: -7vmax;
    background:
      radial-gradient(42% 38% at 8% 12%, var(--glow-a), rgba(79, 70, 229, 0) 58%),
      radial-gradient(42% 38% at 92% 16%, var(--glow-b), rgba(45, 212, 191, 0) 58%),
      radial-gradient(46% 40% at 78% 88%, var(--glow-warm), rgba(251, 113, 133, 0) 62%),
      radial-gradient(44% 38% at 12% 84%, rgba(246, 196, 83, 0.2), rgba(246, 196, 83, 0) 60%);
  }

  .bg-layer::after {
    filter: blur(0.12px);
    opacity: 0.14;
    background:
      radial-gradient(circle at 12% 18%, rgba(246, 196, 83, 0.62) 0 2px, rgba(246, 196, 83, 0) 5px),
      radial-gradient(circle at 34% 68%, rgba(45, 212, 191, 0.62) 0 2px, rgba(45, 212, 191, 0) 5px),
      radial-gradient(circle at 62% 26%, rgba(251, 113, 133, 0.62) 0 2px, rgba(251, 113, 133, 0) 5px),
      radial-gradient(circle at 88% 78%, rgba(79, 70, 229, 0.62) 0 2px, rgba(79, 70, 229, 0) 5px);
  }
}

.debug-motion .bg-layer,
.debug-motion .bg-layer::before,
.debug-motion .bg-layer::after,
.debug-motion .glow-card::before,
.debug-motion .glow-button::after,
.debug-motion .sparkle-pulse,
.debug-motion .pulse-idle::before {
  animation-duration: 2s !important;
}

@media (prefers-reduced-motion: reduce) {
  .bg-layer,
  .bg-layer::before,
  .bg-layer::after,
  .result-reveal,
  .page-enter,
  .glow-card::before,
  .glow-button::after,
  .sparkle-pulse,
  .pulse-idle::before {
    animation: none !important;
  }

  .detail-reveal,
  .detail-reveal.is-visible {
    transition: none;
    transform: none;
    opacity: 1;
  }
}
